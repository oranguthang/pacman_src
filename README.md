# pacman_src

> **WARNING:** This project was generated with AI, is insufficiently tested, and may be unstable or non-functional. Be extremely cautious if you choose to work with it.

Work-in-progress Pac-Man (NES, JP) C reconstruction using `cc65`.

## Current project layout

- `src/` - active build sources (`main.c`, `globals.c`, `neslib.c`, `nrom128.cfg`)
- `scripts/` - utility scripts (`build.py`, `split_chr.py`, `compare_roms.py`)
- `bin/` - required cc65 toolchain executables
- `tmp/` - scratch folder (not used by build scripts)

## Build flow

1. Put original ROM here (default):
- `Pac-Man (J) (V1.0) [!].nes`

2. Extract CHR from original ROM:
- `make split`

3. Build the project ROM:
- `make build`

Result:
- `pacman_c.nes`

If your original ROM is located elsewhere, override input/output paths:
- `make split ORIGINAL_ROM="D:/path/Pac-Man (J) (V1.0) [!].nes" CHR_OUT="D:/path/pacman.chr"`

## Make targets

- `make split`
  Runs `scripts/split_chr.py` and writes CHR to `pacman.chr` in project root.

- `make build`
  Runs `scripts/build.py` and builds `pacman_c.nes`.

- `make clean`
  Removes generated ROM/object artifacts from project root.

## Toolchain requirements

Keep these executables in `bin/`:
- `cl65.exe`
- `cc65.exe`
- `ca65.exe`
- `ld65.exe`

Also required on system:
- `cmd.exe`
- `powershell.exe`
- `python.exe`

## Files used by build

Used directly by `make build` / `scripts/build.py`:
- `src/main.c`
- `src/globals.c`
- `src/neslib.c`
- `src/nrom128.cfg`
- `src/globals.h`
- `src/neslib.h`
- `scripts/build.py`
- `bin/cl65.exe` (and the rest of cc65 toolchain in `bin/`)
- `pacman.chr` (generated by `make split`)

Used by `make split`:
- `scripts/split_chr.py`
- `Pac-Man (J) (V1.0) [!].nes` (default input original ROM)

## Safe to remove (if not needed)

- `scripts/compare_roms.py` (only for ROM diff/debug, not required for build)
- Any files under `tmp/` (scratch data, not used by build scripts)

## License

This is a work of reverse engineering for educational and preservation purposes. The original game is copyright Namco and Nintendo.
